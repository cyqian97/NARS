init gaps
assign info to each event (related gaps, side)
run algorithm